<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ü–æ–¥–±–æ—Ä –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö –∏–≥—Ä</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    select, input, button { margin: 5px 0; padding: 6px; }
    .game { margin: 5px 0; }
  </style>
</head>
<body>

<h1>üé≤ –ü–æ–¥–±–æ—Ä –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö –∏–≥—Ä</h1>

<select id="genre">
  <option value="">–õ—é–±–æ–π –∂–∞–Ω—Ä</option>
  <option value="—Å–µ–º–µ–π–Ω–∞—è">–°–µ–º–µ–π–Ω–∞—è</option>
  <option value="—Å—Ç—Ä–∞—Ç–µ–≥–∏—è">–°—Ç—Ä–∞—Ç–µ–≥–∏—è</option>
  <option value="–≤–µ—á–µ—Ä–∏–Ω–æ—á–Ω–∞—è">–í–µ—á–µ—Ä–∏–Ω–æ—á–Ω–∞—è</option>
  <option value="–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è">–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è</option>
  <option value="–Ω–∞—Å–ª–µ–¥–∏–µ">–ù–∞—Å–ª–µ–¥–∏–µ</option>
</select>

<br>

<select id="difficulty">
  <option value="">–õ—é–±–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å</option>
  <option value="–ª—ë–≥–∫–∞—è">–õ—ë–≥–∫–∞—è</option>
  <option value="—Å—Ä–µ–¥–Ω—è—è">–°—Ä–µ–¥–Ω—è—è</option>
  <option value="—Å–ª–æ–∂–Ω–∞—è">–°–ª–æ–∂–Ω–∞—è</option>
</select>

<br>

<input id="players" type="number" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤">
<br>

<input id="time" type="number" placeholder="–ú–∞–∫—Å. –≤—Ä–µ–º—è (–º–∏–Ω)">
<br>

<button onclick="filterGames()">–ü–æ–¥–æ–±—Ä–∞—Ç—å –∏–≥—Ä—É</button>

<div id="result"></div>

<script>
const sheetId = "1RynBSu-vpp79TLS35tOIfd_eZhYmAAbc387HGv_PJps";
const sheetName = "–õ–∏—Å—Ç1";

let games = [];

fetch(`https://opensheet.elk.sh/${sheetId}/${sheetName}`)
  .then(res => res.json())
  .then(data => games = data);

function filterGames() {
  const genre = document.getElementById("genre").value;
  const difficulty = document.getElementById("difficulty").value;
  const players = Number(document.getElementById("players").value);
  const time = Number(document.getElementById("time").value);

  const result = games.filter(g =>
    (!genre || g["–ñ–∞–Ω—Ä"] === genre) &&
    (!difficulty || g["–°–ª–æ–∂–Ω–æ—Å—Ç—å"] === difficulty) &&
    (!players || (players >= Number(g["–ú–∏–Ω–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤"]) && players <= Number(g["–ú–∞–∫—Å–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤"]))) &&
    (!time || Number(g["–í—Ä–µ–º—è –∏–≥—Ä—ã"]) <= time)
  );

  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = result.length
    ? result.map(g => `<div class="game">üé≤ ${g["–ù–∞–∑–≤–∞–Ω–∏–µ"]}</div>`).join("")
    : "<p>–ü–æ–¥—Ö–æ–¥—è—â–∏—Ö –∏–≥—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</p>";
}
</script>

</body>
</html>
